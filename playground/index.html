<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/index.css" rel="stylesheet"/>
    <title>Playground</title>
  </head>
  <body>
    <main class="flex justify-center">
    
    <iframe
      id="ezdoc-form-embed"
      class="h-screen w-[450px] shadow-xl"
      src="https://viewer.ez-doc.net/form.html?documentId=aab66c1e-2ded-4b9a-aa8e-9ca62a787123">
    </iframe>
    <script>
      document.addEventListener("DOMContentLoaded",()=>{let e="EZDOC_FORM_TOKEN",t=document.getElementById("ezdoc-form-embed"),n=!1;window.addEventListener("message",a=>{a.source===t.contentWindow&&"object"==typeof a.data&&null!=a.data&&("setCurrentToken"===a.data.type&&a.data.ack?n=!0:"updateToken"===a.data.type&&"string"==typeof a.data.token&&null!=a.data.token&&localStorage.setItem(e,a.data.token))});let a=setInterval(()=>{if(n){clearInterval(a);return}let d=localStorage.getItem(e);t.contentWindow.postMessage({type:"setCurrentToken",token:d},"*")},100)});
    </script>
  </body>
</html>